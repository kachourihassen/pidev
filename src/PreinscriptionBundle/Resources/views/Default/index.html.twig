<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Sign Up Form by Colorlib</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
    <!-- Font Icon -->
    <link rel="stylesheet" href="{{ asset('colorlib/fonts/material-icon/css/material-design-iconic-font.css') }}">
    <link rel="stylesheet" href="{{ asset('colorlib/styleStepper.css') }}">
    <!-- Main css -->
    <link rel="stylesheet" href="{{ asset('colorlib/css/style.css') }}">
    <link rel="stylesheet" href="{{ asset('plugins/sweetalert2-theme-bootstrap-4/bootstrap-4.min.css') }}">
    <link rel="stylesheet" href="{{ asset('colorlib/css/style.css') }}">
    <!-- JS -->
    <script src="{{ asset('colorlib/vendor/jquery/jquery.min.js') }}"></script>
    <script src="{{ asset('colorlib/js/main.js') }}"></script>
</head>
<body>
<div class="container">
    {% if success %}
        <button  type="button" id="success" class="btn btn-danger hidden" data-toggle="modal" data-target="#modal-success">
            Launch Danger Modal
        </button>
        <div class="modal fade" id="modal-success">
            <div class="modal-dialog">
                <div class="modal-content" style="background-color: green;color: white;">
                    <div class="modal-header">
                        <h4 class="modal-title">Validation</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body text-center" >
                        <p style="color: white;">{{ success.content }}</p>
                    </div>
                    <div class="modal-footer justify-content-between">
                        <a href="{{ path('app_index') }}" type="button" class="btn btn-outline-light " data-dismiss="modal" >OK</a>
                    </div>
                </div>
                <!-- /.modal-content -->
            </div>
            <!-- /.modal-dialog -->
        </div>
        <script>
            $(document).ready(function() {
                $("#success").click();
            });
        </script>
    {% endif %}

    {% if error %}


        <button  type="button" id="error" class="btn btn-danger hidden" data-toggle="modal" data-target="#modal-danger">
            Launch Danger Modal
        </button>
        <div class="modal fade" id="modal-danger">
            <div class="modal-dialog">
                <div class="modal-content "style="background-color: #d9534f;color: white;">
                    <div class="modal-header">
                        <h4 class="modal-title">ERREUR</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body text-center" >
                        <p style="color: white;">{{ error.content }}</p>
                    </div>
                    <div class="modal-footer justify-content-between">
                        <button type="button" class="btn btn-outline-light " data-dismiss="modal" style="color: black;">Close</button>
                    </div>
                </div>
                <!-- /.modal-content -->
            </div>
            <!-- /.modal-dialog -->
        </div>
        <script>
            $(document).ready(function() {
                $("#error").click();
            });
        </script>
        <!-- /.modal -->

    {% endif %}
    <div class="stepwizard col-md-offset-3">
        <div class="stepwizard-row setup-panel">
            <div class="stepwizard-step">
                <a href="#step-1" type="button" class="btn btn-primary btn-circle">1</a>
                <p>Parent</p>
            </div>
            <div class="stepwizard-step">
                <a href="#step-2" type="button" class="btn btn-default btn-circle" disabled="disabled">2</a>
                <p>Enfants</p>
            </div>
            <div class="stepwizard-step">
                <a href="#step-3" type="button" class="btn btn-default btn-circle" disabled="disabled">3</a>
                <p>Validation</p>
            </div>
        </div>
    </div>

    <form role="form"  method="post">
        <div class="row setup-content" id="step-1">
            <section class="signup">
                <div class="container">
                    <div class="signup-content">
                        <div class="signup-form">
                            <h2 class="form-title">Sign up</h2>
                            <div  class="register-form" id="register-form">
                                <div class="form-group">
                                    <label for="nom"><i class="zmdi zmdi-account  material-icons-name"></i></label>
                                    <input type="text"  name="nom" id="name"  aria-required="true" required="required" placeholder="Nom"/>
                                </div>
                                <div class="form-group">
                                    <label for="prenom"><i class="zmdi zmdi-account material-icons-name"></i></label>
                                    <input type="text" name="prenom" aria-required="true" required="required" id="name" placeholder="Prenom"/>
                                </div>
                                <div class="form-group">
                                    <label for="email"><i class="zmdi zmdi-email"></i></label>
                                    <input type="email" name="email" aria-required="true"  required="required" id="email" placeholder=""/>
                                </div>
                                <div class="form-group">
                                    <label for="pass"><i class="zmdi zmdi-phone"></i></label>
                                    <input type="tel" name="tel" aria-required="true" required="required"  id="pass" placeholder="tel"/>
                                </div>
                                <div class="form-group">
                                    <label for="re-pass"><i class="zmdi zmdi-calendar"></i></label>
                                    <input type="date" name="dateNaissance" max="{{ 'now'|date_modify("-18 months")|date('Y-m-d') }}" aria-required="true" required="required" id="re_pass" placeholder="date naissance"/>
                                </div>
                                <div class="form-group">
                                    <label for="re-pass"><i class="zmdi zmdi-google-maps"></i></label>
                                    <input type="text" name="adress" required="required" id="re_pass" placeholder="adress"/>
                                </div>
                                <div class="form-group">
                                    <input type="checkbox" required="required" name="agree-term" id="agree-term" class="agree-term" />
                                    <label for="agree-term" class="label-agree-term"><span><span></span></span>I agree all statements in  <a href="#" class="term-service">Terms of service</a></label>
                                </div>
                                <div class="form-group form-button">
                                    <button class="btn btn-primary nextBtn btn-lg pull-right form-submit" type="button" >Next</button>
                                </div>
                            </div>
                        </div>
                        <div class="signup-image">
                            <figure><img src="{{ asset('colorlib/images/signup-image.jpg') }}" alt="sing up image"></figure>
                            <a href="#" class="signup-image-link">I am already member</a>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        <div class="row setup-content" id="step-2">
            <div class="signup-content">
                <div  class="panel panel-default">
                    <h2>Enfants</h2>
                    <div class="panel-body">
                        <div class="row clearfix">
                            <div class="col-md-12 column">
                                <table class="table table-hover tab-pane  table-hover" id="tab_logic">
                                    <thead>
                                    <tr >
                                        <th class="text-center" >
                                            <h5>#</h5>
                                        </th>
                                        <th class="text-center">
                                            <h5>Nom</h5>
                                        </th>
                                        <th class="text-center">
                                            <h5>Prenom</h5>
                                        </th>
                                        <th class="text-center" >
                                            <h5>Date de naissance</h5>
                                        </th>
                                        <th class="text-center">
                                            <h5>Sexe</h5>
                                        </th>
                                        <th class="text-center" style="width: 85px;">
                                            <a id="add_row" class="btn btn-success pull-left">+</a><a id='delete_row' class="pull-right btn btn-danger">-</a>
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr id='addr0'>
                                        <td>
                                            1
                                        </td>
                                        <td>
                                            <input type="text" name='name0' required  placeholder='Nom' class="form-control"/>
                                        </td>
                                        <td>
                                            <input type="text" name='prenom0' required placeholder='Prenom' class="form-control"/>
                                        </td>
                                        <td>
                                            <input type="date" name='date0' min="{{ 'now'|date('Y-m-d') }}"   placeholder='Date de naissance' class="form-control required"/>
                                        </td>
                                        <td>
                                            <select class="form-control" id="educationDate" name="sexe0">
                                                <option value="garçon">garçon</option>
                                                <option value="fille">fille</option>
                                            </select>
                                        </td>

                                    </tr>
                                    <tr id='addr1'></tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div class="form-group form-button">
                        <button class="btn btn-primary nextBtn btn-lg pull-right form-submit" type="button" >Next</button>
                    </div>

                </div>
            </div>
        </div>
        <!-- enenenn !-->

        <div class="row setup-content" id="step-3">
            <div class="col-xs-6 col-md-offset-3">
                <div class="col-md-12">
                    <h3> Step 3</h3>
                    <input hidden name="NbEnf" id="NbEnf" value="1">
                    <button class="btn btn-success btn-lg pull-right" type="submit">Submit</button>
                </div>
            </div>
        </div>
    </form>

</div>

<script>

    $(document).ready(function () {
        var navListItems = $('div.setup-panel div a'),
            allWells = $('.setup-content'),
            allNextBtn = $('.nextBtn');

        allWells.hide();

        navListItems.click(function (e) {
            e.preventDefault();
            var $target = $($(this).attr('href')),
                $item = $(this);

            if (!$item.hasClass('disabled')) {
                navListItems.removeClass('btn-primary').addClass('btn-default');
                $item.addClass('btn-primary');
                allWells.hide();
                $target.show();
                $target.find('input:eq(0)').focus();
            }
        });

        var room = 1;
        allNextBtn.click(function(){

            var curStep = $(this).closest(".setup-content"),
                curStepBtn = curStep.attr("id"),
                nextStepWizard = $('div.setup-panel div a[href="#' + curStepBtn + '"]').parent().next().children("a"),
                curInputs = curStep.find("input[type='text'],input[type='url']"),
                isValid = true;

            $(".form-group").removeClass("has-error");
            for(var i=0; i<curInputs.length; i++){
                if (!curInputs[i].validity.valid){
                    isValid = false;
                    $(curInputs[i]).closest(".form-group").addClass("has-error");
                }
            }

            if (isValid)
                nextStepWizard.removeAttr('disabled').trigger('click');
        });

        $('div.setup-panel div a.btn-primary').trigger('click');
    });



    $(document).ready(function(){
        var i=1;
        $("#add_row").click(function(){
            $('#addr'+i).html("<td>"+ (i+1) +"</td><td><input name='name"+i+"' type='text' placeholder='Nom' class='form-control '  /> </td><td><input  name='prenom"+i+"' type='text' placeholder='Prenom'  class='form-control '></td><td><input  name='date"+i+"' type='date' placeholder='Date de naissance'  class='form-control '></td><td>\n" +
                "                                            <select class='form-control' id='educationDate' name='sexe"+i+"'>\n" +
                "                                                <option value=\"garçon\">garçon</option>\n" +
                "                                                <option value=\"fille\">fille</option>\n" +
                "                                            </select>\n" +
                "                                        </td>");

            $('#tab_logic').append('<tr id="addr'+(i+1)+'"></tr>');
            i++;


            $('#NbEnf').val(i);


        });
        $("#delete_row").click(function(){
            if(i>1){
                $("#addr"+(i-1)).html('');
                i--;
                $('#NbEnf').val(i);
            }
        });

    });
</script>



</body><!-- This templates was made by Colorlib (https://colorlib.com) -->

</html>
